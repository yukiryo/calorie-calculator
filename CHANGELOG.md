# Changelog

## [1.0.9] - 2025-12-24

### Added
- 编辑常用食品后自动同步到云端

### Changed
- 替换 `any` 为具体类型，使用 `unknown` + 类型守卫处理错误
- 移除调试代码和冗余注释

## [1.0.8] - 2025-12-11

### Added
- 集成 Supabase 简化云同步流程
- 自定义 Glassmorphism 风格提示框

### Fixed
- 显式配置 Supabase 会话持久化，解决登录状态丢失
- 使用 `visibility` 代替 `display: none` 修复 iOS 模态框渲染问题
- 修复 iOS PWA 状态栏沉浸式显示

## [1.0.7] - 2025-12-11

### Added
- 页面底部显示应用版本号

### Fixed
- 网页端更新日志链接点击问题
- 登录/注册成功后云同步设置窗口未关闭
- 注销按钮点击无反应
- 输入框被错误识别为密码框
- 统一弹窗按钮样式和位置

## [1.0.6] - 2025-12-10

### Fixed
- 版本号混乱问题
- 浏览器自动填充导致的输入框样式异常

## [1.0.5] - 2025-12-10

### Added
- 集成 Supabase 实现多设备云端同步
- 邮箱注册/登录和自动保持登录状态
- 智能合并策略，保留离线添加的数据

## [1.0.4] - 2025-12-10

### Added
- 食品库显示单位，点击自动切换模式并填充
- 支持编辑已保存的常用食品
- 只允许输入数字和小数点
- 毛玻璃风格模态框替代原生弹窗

### Changed
- 食品库改为底部抽屉模式 (Bottom Sheet)
- 优化公式为 `Total kcal = (kJ/100g × Weight) ÷ 418.4`
- 移除约 45 行冗余代码

### Fixed
- CSS 大写导致单位显示错误
- 电脑端抽屉宽度限制为 480px

## [1.0.3] - 2025-12-09

### Added
- "加入记录"功能，支持多次计算累加求和
- 应用内更新日志入口
- PWA 智能滚动，解决内容被遮挡问题
- 浏览器标签页图标

### Fixed
- `*.md?raw` 导入类型报错
- 不同浏览器 input 样式兼容性

## [1.0.2] - 2025-12-08

### Changed
- 使用 `100dvh` 解决移动端地址栏遮挡问题

## [1.0.1] - 2025-12-08

### Fixed
- iOS 添加到主屏幕时图标显示异常
- iOS Safari 白边问题

## [1.0.0] - 2025-12-08

### Added
- 核心计算：输入食品重量和能量密度，自动计算总热量
- 单位切换：支持 kJ ↔ kcal 双向计算
- PWA 支持：可安装到桌面，离线可用
- 深色模式：高级毛玻璃 (Glassmorphism) UI 设计
- 响应式设计：适配桌面端、平板和移动端
- 动态交互：输入时自动计算，结果带缩放动画
